# ╔══════════════════════════════════════════════════════════════╗
# ║  LogSentinel AI — Docker Environment Configuration          ║
# ║                                                            ║
# ║  Copy this file to .env and edit the values below.         ║
# ║  Only DB_HOST and DB_PASSWORD are required.                ║
# ║  AI model & API key are configured via the UI.             ║
# ╚══════════════════════════════════════════════════════════════╝

# ── Database ─────────────────────────────────────────────────
#
# OPTION A — External PostgreSQL (you manage your own server):
#   Set DB_HOST to your PostgreSQL server IP/hostname.
#   Run:  docker compose up -d
#
# OPTION B — Bundled PostgreSQL (all-in-one, no external DB needed):
#   Set DB_HOST=postgres  (the container hostname)
#   Run:  docker compose --profile db up -d
#
DB_HOST=localhost
DB_NAME=logsentinel_ai
DB_USER=syslog_ai
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DB_PORT=5432

# Expose bundled PostgreSQL to host? (only relevant with --profile db)
# Set to 0.0.0.0:5432 to allow external access.
# DB_EXTERNAL_PORT=127.0.0.1:5432

# ── LLM (AI Analysis) ───────────────────────────────────────
# Optional here — API key and model are configurable via the UI
# (Settings > AI Model). Environment variables serve as initial
# fallback only. You can set the key here OR in the UI — either works.
# OPENAI_API_KEY=sk-your-openai-key-here

# ── Dashboard URL ────────────────────────────────────────────
# VITE_API_URL is baked into the dashboard at build time.
# Set this to the backend URL as reachable from the user's browser.
#
# For local use:  http://localhost:3000
# For LAN/remote: http://<your-server-ip>:3000
VITE_API_URL=http://localhost:3000
DASHBOARD_PORT=8070

# ── CORS ─────────────────────────────────────────────────────
# Set to the dashboard URL to restrict cross-origin requests.
# For local use:  http://localhost:8070
# For LAN/remote: http://<your-server-ip>:8070
CORS_ORIGIN=http://localhost:8070

# ── Backend Port ─────────────────────────────────────────────
PORT=3000

# ── Admin Account (optional) ────────────────────────────────
# On first start, if no users exist, an admin account is created.
# If these are not set, a random password is generated and printed to logs.
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=YourSecureAdminPassword123!

# ── Pipeline ─────────────────────────────────────────────────
# AI pipeline interval in milliseconds (default: 5 minutes)
PIPELINE_INTERVAL_MS=300000

# ── Security / Redaction ─────────────────────────────────────
REDACTION_ENABLED=false

# ── Timezone ─────────────────────────────────────────────────
TZ=Europe/Chisinau

# ── Alerting Tokens (optional) ───────────────────────────────
# PUSHOVER_TOKEN=
# PUSHOVER_USER_KEY=
# NTFY_BASE_URL=https://ntfy.sh
# NTFY_TOPIC=
# GOTIFY_BASE_URL=
# GOTIFY_APP_TOKEN=
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_CHAT_ID=
